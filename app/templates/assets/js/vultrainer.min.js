/*! vultrainer 04-06-2017 */

angular.module("dashboard",["platformNode"]).controller("nodeInfoController",["$rootScope","$scope","nodeService",function(e,n,o){function r(e){n.nodeInfo=e}function t(e){n.errorType="Retrieve Data Error : ",n.errorDetail=e,n.alertShown=!0}o.getNodeInfo(e.nodeId).then(r,t)}]),angular.module("platformNode",[]).service("nodeService",["$http","$q",function(e,n){this.nodeId="",this.setNodeId=function(e){this.nodeId=e},this.getNodeId=function(){return this.nodeId},this.getNodeInfo=function(o){var r=n.defer();return e.get("/"+o+"/dashboard/nodeinfo").then(function(e){r.resolve(e.data)},function(e){r.reject(e.data)}),r.promise}}]),angular.module("vulnContainer",["ngTable"]).factory("vulnContainerService",["$http","$q",function(e,n){var o={};return o.getVulnContainerList=function(o){var r=n.defer();return e.get("/"+o+"/vulnContainer/all").then(function(e){r.resolve(e.data)},function(e){r.reject(e.data)}),r.promise},o}]).filter("retInnerPort",function(){return function(e){return e.split("/")[0]}}).filter("retProto",function(){return function(e){return e.split("/")[1]}}).controller("vulnContainerController",["$rootScope","$scope","$timeout","vulnContainerService","NgTableParams",function(e,n,o,r,t){function l(e){i.containerTableParams=new t({},{dataset:e})}function a(e){n.errorType="Retrieve Data Error : ",n.errorDetail=e,n.alertShown=!0}var i=this;r.getVulnContainerList(e.nodeId).then(l,a),n.allChecked=!1,n.containerCheckeds=[],n.selectContainer=function(e){if(console.log(e.checked),1==e.checked)n.containerCheckeds.push(e.id),console.log(n.containerCheckeds);else{if(0==n.allChecked)for(var o=0;o<n.containerCheckeds.length;o++)n.containerCheckeds[o]==e.id&&n.containerCheckeds.splice(o,1);console.log(n.containerCheckeds)}},n.selectAllItems=function(e){n.allChecked=e,console.log(n.allChecked),$('[ng-model="vulnContainer.checked"]').click(),console.log(n.containerCheckeds)}}]),angular.module("vultrainer",["ui.router","platformNode","dashboard","vulnContainer"]).config(["$stateProvider","$urlRouterProvider",function(e,n){n.otherwise("/dashboard/"),e.state("dashboard",{url:"/dashboard/",templateUrl:"/dashboard/",controller:"vultrainerController"}),e.state("vulnContainer",{url:"/vulnContainer/",templateUrl:"/vulnContainer/",controller:"vultrainerController"})}]).controller("vultrainerController",["$rootScope","$scope","nodeService",function(e,n,o){o.setNodeId(1),e.nodeId=o.getNodeId()}]);